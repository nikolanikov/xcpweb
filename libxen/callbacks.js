var xen_sync_calls_array;function xen_callback_proceed_init(result,xmldoc,param_pass){var params=new Array();params[0]=xen_db['session_id'];var params_pass=new Array();var initCalls=new Array('VM.get_all_records','task.get_all_records','VBD.get_all_records','VBD_metrics.get_all_records','VDI.get_all_records','network.get_all_records','PIF.get_all_records','PIF_metrics.get_all_records','PBD.get_all_records','VIF.get_all_records','VIF_metrics.get_all_records','VM_guest_metrics.get_all_records','VM_metrics.get_all_records','host_metrics.get_all_records','host_cpu.get_all_records','Bond.get_all_records','pool_patch.get_all_records','host_patch.get_all_records','console.get_all_records','host.get_all_records','pool.get_all_records','SR.get_all_records','message.get_all_records');xen_sync_calls_array=new Array('VM.get_all_records','task.get_all_records','VBD.get_all_records','VBD_metrics.get_all_records','VDI.get_all_records','network.get_all_records','PIF.get_all_records','PIF_metrics.get_all_records','PBD.get_all_records','VIF.get_all_records','VIF_metrics.get_all_records','VM_guest_metrics.get_all_records','VM_metrics.get_all_records','host_metrics.get_all_records','host_cpu.get_all_records','Bond.get_all_records','pool_patch.get_all_records','host_patch.get_all_records','console.get_all_records','host.get_all_records','pool.get_all_records','SR.get_all_records','message.get_all_records');params_pass[0]=param_pass;for (call_id in initCalls){params_pass[1]=initCalls[call_id];ApiCall(initCalls[call_id],params,false,1,xen_callback_sync_calls,xen_callback_sync_calls,params_pass); //TODO callback error}return ;}function xen_callback_get_next_event(result,xmldoc,param_pass){//this calls the next event functionvar params=new Array();params[0]=xen_db['session_id'];ApiCall('event.next',params,true,1,xen_callback_get_next_event,0,0); //TODO callback error}function xen_callback_sync_calls(result,xmldoc,param_pass){for(var i in xen_sync_calls_array)	{	if(xen_sync_calls_array[i]==param_pass[1])xen_sync_calls_array.splice(i,1);	}	if(!xen_sync_calls_array.length)	{	var event_params=new Array();	event_params[0]=xen_db['session_id'];	event_params[1]=new Array('*');	ApiCall('event.register',event_params,true,0,xen_callback_get_next_event,0,0);	if(typeof(param_pass[0])=='function')param_pass[0]();	}		}